Mayli, botni detallar bilan tushuntirib beraman. Har bir qadamni aniq ko'rib chiqamiz!

ğŸ¤– TELEGRAM BOT - To'liq Oqim (User Flow)
1. BOSHLANG'ICH (Start)
Foydalanuvchi /start bosadi:
ğŸ‘‹ Xush kelibsiz [Restoran Nomi]ga!

Bizda eng mazali taomlar va tez yetkazib berish!

ğŸ“± Ro'yxatdan o'tish uchun telefon raqamingizni yuboring:

[ğŸ“ Telefon raqamni yuborish] - tugma
```

**Bot oladi:**
- Telefon raqam (Telegram contact)
- Ismini (Telegram profile dan)
- User ID ni saqlaydi database ga

---

### **2. ASOSIY MENYU**
```
ğŸ  Asosiy menyu:

[ğŸ• Menyu]  [ğŸ›’ Savatim (0)]
[ğŸ“¦ Buyurtmalarim]  [â„¹ï¸ Biz haqimizda]
[âš™ï¸ Sozlamalar]
```

---

### **3. ğŸ• MENYU BO'LIMI (Eng Muhim!)**

**3.1. Kategoriyalar:**
```
Qaysi bo'limdan buyurtma berasiz?

[ğŸ• Pitsa]  [ğŸ” Burgerlar]
[ğŸœ Sho'rva]  [ğŸ¥— Salatlar]
[ğŸ° Desertlar]  [â˜• Ichimliklar]

[â¬…ï¸ Ortga]
```

**3.2. Mahsulotlar ro'yxati (masalan Pitsa tanlandi):**
```
ğŸ• PITSALAR

1ï¸âƒ£ Margarita
   ğŸ’° 35,000 so'm
   ğŸ“ Pomidor, mozzarella, rayhon
   [ğŸ“· Rasm]
   [â• Savatga qo'shish]

2ï¸âƒ£ Pepperoni
   ğŸ’° 45,000 so'm  
   ğŸ“ Kolbasa, pomidor, mozzarella
   [ğŸ“· Rasm]
   [â• Savatga qo'shish]

[â¬…ï¸ Ortga]  [ğŸ›’ Savatga o'tish]
```

**3.3. Mahsulotni tanlash:**
```
ğŸ• Margarita
ğŸ’° 35,000 so'm

[RASM KO'RINADI]

ğŸ“ Tarkibi: 
Pomidor sousi, mozzarella pishloq, rayhon

O'lchamni tanlang:
[25cm] [30cm] [35cm]

Miqdorini tanlang:
[â–] 1 [â•]

Qo'shimcha:
[ ] Qo'shimcha pishloq (+5,000)
[ ] Achchiq sous (+2,000)

[âœ… Savatga qo'shish]  [âŒ Bekor qilish]
```

---

### **4. ğŸ›’ SAVAT (Cart)**
```
ğŸ›’ Sizning savatingiz:

1. Margarita (30cm) x2
   70,000 so'm
   [âœï¸ Tahrirlash] [ğŸ—‘ O'chirish]

2. Pepperoni (35cm) x1  
   45,000 so'm
   [âœï¸ Tahrirlash] [ğŸ—‘ O'chirish]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’µ Jami: 115,000 so'm
ğŸšš Yetkazib berish: 10,000 so'm
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… UMUMIY: 125,000 so'm

[ğŸ“¦ Buyurtma berish]
[ğŸ”™ Menuga qaytish]
[ğŸ—‘ Savatni tozalash]
```

---

### **5. ğŸ“¦ BUYURTMA BERISH OQIMI**

**5.1. Manzil so'rash:**
```
ğŸ“ Yetkazib berish manzilini yuboring:

Variantlar:
[ğŸ“Œ Geolokatsiya yuborish]
[âœï¸ Manzilni yozish]
[ğŸ“‹ Avvalgi manzillarim]

[â¬…ï¸ Ortga]
```

**Agar geolokatsiya yuborsĞ°:**
- Google Maps link yaratish
- Yaqin atrofni aniqlash
- Tasdiqlash so'rash

**Agar yozsa:**
```
Manzil qabul qilindi âœ…
ğŸ“ Toshkent sh, Chilonzor tumani, 12-mavze, 25-uy

To'g'rimi?
[âœ… Ha, to'g'ri]  [âœï¸ O'zgartirish]
```

**5.2. Qo'shimcha ma'lumot:**
```
ğŸ“ Qo'shimcha izoh (ixtiyoriy):

Masalan: 
- Podezd/ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğ°
- Eshikni qanday ochish
- Qo'shimcha yo'riqnoma

[â­ O'tkazib yuborish]
```

**5.3. To'lov usuli:**
```
ğŸ’³ To'lov usulini tanlang:

[ğŸ’µ Naqd pul]
[ğŸ’³ Payme]
[ğŸ’³ Click]  
[ğŸ’³ Uzum Bank]

[â¬…ï¸ Ortga]
```

---

### **6. âœ… BUYURTMA TASDIQLANISHI**
```
ğŸ‰ Buyurtmangiz qabul qilindi!

ğŸ“¦ Buyurtma #12345

ğŸ›’ Mahsulotlar:
- Margarita x2 - 70,000
- Pepperoni x1 - 45,000

ğŸ“ Manzil: Chilonzor, 12-mavze, 25-uy
ğŸ’³ To'lov: Naqd
ğŸ’° Jami: 125,000 so'm

â± Taxminiy vaqt: 30-40 daqiqa

Holat: ğŸŸ¡ Tayyorlanmoqda...

[ğŸ“± Qo'ng'iroq qilish]
[âŒ Bekor qilish]
```

---

### **7. ğŸ“² HOLAT YANGILANISHI (Real-time)**

Bot **avtomatik** xabar yuboradi:
```
ğŸŸ¢ Buyurtma #12345

Holat o'zgardi:
âœ… Tasdiqlanadi â†’ âœ… Tayyorlanmoqda

Taxminiy vaqt: 25 daqiqa
```
```
ğŸš— Buyurtma #12345

Holat o'zgardi:  
âœ… Tayyorlanmoqda â†’ ğŸšš Yo'lda

Kuryer: Sardor
ğŸ“ +998 90 123 45 67

Taxminiy yetib borish: 15 daqiqa
```
```
ğŸ‰ Buyurtma #12345

âœ… YETKAZILDI!

Buyurtmangiz uchun rahmat! 

Xizmatimizni baholang:
â­â­â­â­â­

[5] [4] [3] [2] [1]
```

---

### **8. ğŸ“¦ BUYURTMALARIM**
```
ğŸ“¦ Sizning buyurtmalaringiz:

ğŸŸ¢ Faol:
#12345 - ğŸšš Yo'lda (10 daq)
125,000 so'm
[Batafsil]

ğŸ“‹ Tarix:
#12344 - âœ… Yetkazilgan (bugun 14:30)
85,000 so'm
[Qayta buyurtma] [Batafsil]

#12343 - âœ… Yetkazilgan (kecha)
120,000 so'm
[Qayta buyurtma] [Batafsil]

[â¬…ï¸ Asosiy menyu]
```

---

### **9. âš™ï¸ SOZLAMALAR**
```
âš™ï¸ Sozlamalar:

ğŸ‘¤ Ism: Abdullo
ğŸ“± Telefon: +998 90 123 45 67
[âœï¸ O'zgartirish]

ğŸ“ SaqlanĞ³Ğ°Ğ½ manzillar:
- Uy: Chilonzor, 12-mavze, 25-uy
- Ish: Yunusobod, 5-mavze
[â• Yangi qo'shish]

ğŸ”” Bildirishnomalar: âœ… Yoqilgan
ğŸŒ Til: O'zbek

[â¬…ï¸ Ortga]
```

---

### **10. ğŸ QO'SHIMCHA IMKONIYATLAR**

**10.1. Bonus/Loyallik:**
```
ğŸ Sizning bonusingiz: 15,000 so'm

Har 100,000 so'm buyurtmaga 10% cashback!

Bonusdan foydalanish:
[âœ…] Bonusdan foydalanish (15,000)

[ğŸ“Š Bonuslar tarixi]
```

**10.2. Aksiya/Chegirmalar:**
```
ğŸ”¥ AKSIYA!

Har kuni 14:00-16:00 
Barcha pitsalarga -20%!

[ğŸ• Buyurtma berish]
```

**10.3. Izoh qoldirish:**
```
â­â­â­â­â­ 5/5

Zo'r xizmat! Tez yetkazishdi, issiq edi!

- Sardorbek, 2 soat oldin

[âœï¸ Izoh qoldirish]

ğŸ”§ TEXNIK DETALLAR
Database (PostgreSQL):
sqlusers: id, telegram_id, phone, name, created_at
categories: id, name, icon, order
products: id, category_id, name, description, price, image, available
orders: id, user_id, status, total, address, payment_method, created_at
order_items: id, order_id, product_id, quantity, price
addresses: id, user_id, address, latitude, longitude, is_default
Bot Holatlari (States):

MAIN_MENU
BROWSING_CATEGORIES
VIEWING_PRODUCT
CART_VIEW
ENTERING_ADDRESS
SELECTING_PAYMENT
ORDER_TRACKING

Notification Tizimi:

Admin panel yangi buyurtma â†’ telegram xabar
Kuryer tayinlandi â†’ mijozga xabar
Holat o'zgardi â†’ mijozga real-time